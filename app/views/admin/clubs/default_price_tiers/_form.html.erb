<% frame_dom_id = local_assigns[:frame_id] || (default_price_tier.persisted? ? dom_id(default_price_tier) : dom_id(club, :new_default_price_tier)) %>
<%= turbo_frame_tag frame_dom_id do %>
  <%= form_with model: [:admin, default_price_tier], class: "space-y-4" do |form| %>
    <% if default_price_tier.errors.any? %>
      <div class="rounded border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700">
        <%= default_price_tier.errors.full_messages.to_sentence %>
      </div>
    <% end %>

    <div class="space-y-1">
      <%= form.label :label, "Label", class: "block text-sm font-medium text-slate-700" %>
      <%= form.text_field :label,
        class: "w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring",
        placeholder: "e.g. Early bird" %>
    </div>

    <div class="grid gap-4 md:grid-cols-2">
      <div class="space-y-1">
        <%= form.label :starts_on, "Starts on", class: "block text-sm font-medium text-slate-700" %>
        <%= form.date_field :starts_on,
          class: "w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
      </div>
      <div class="space-y-1">
        <%= form.label :ends_on, "Ends on", class: "block text-sm font-medium text-slate-700" %>
        <%= form.date_field :ends_on,
          class: "w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
      </div>
    </div>

    <div class="flex items-center justify-end gap-3">
      <% if default_price_tier.persisted? %>
        <%= link_to "Cancel",
          admin_club_default_price_tier_path(club, default_price_tier),
          data: { turbo_frame: dom_id(default_price_tier) },
          class: "text-sm font-medium text-slate-500 hover:text-slate-700" %>
      <% else %>
        <button
          type="button"
          class="text-sm font-medium text-slate-500 hover:text-slate-700"
          data-action="modal#close"
        >
          Cancel
        </button>
      <% end %>
      <%= form.submit(default_price_tier.persisted? ? "Save changes" : "Add default tier",
        class: "inline-flex items-center rounded bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800") %>
    </div>
  <% end %>
<% end %>
