<% selected_club_id ||= nil %>
<div class="max-h-72 space-y-2 overflow-y-auto pr-1" data-memberships-selection-target="list">
  <% clubs.each do |club| %>
    <% selected = selected_club_id.present? && selected_club_id.to_s == club.id.to_s %>

    <label for="<%= club.id %>" class="block cursor-pointer">
        <div class="grid grid-cols-10 py-4 px-4 rounded-3xl border border-dark-grey 
                    peer-checked:border-green-border peer-checked:bg-dark transition">
          <input
          type="radio"
          name="hs-default-radio"
          id="<%= club.id %>"
          class="peer col-span-1 shrink-0 mt-2 border-green-border
          rounded-2lg text-green-border focus:ring-transparent checked:border-green-border disabled:opacity-50 
          disabled:pointer-events-none w-5 h-5 bg-size-[1.5em]"/>

          <div class="col-span-9 flex flex-row gap-3">
            <div class="h-12 w-12 flex-shrink-0 overflow-hidden rounded-xl bg-slate-100">
              <% if club.logo&.attached? %>
                <%= image_tag serve_image_remote_url(club.logo, resize_spec: "resize_to_fill", size_curves: [120, 120]),
                              alt: "#{club.name} logo",
                              class: "h-full w-full object-cover" %>
              <% else %>
                <div class="flex h-full w-full items-center justify-center text-xs font-semibold uppercase tracking-wide text-slate-400">
                  <%= club.name.first(2) %>
                </div>
              <% end %>
            </div>
            <div class="flex flex-1 flex-col">
              <span class="font-semibold text-slate-900"><%= club.name %></span>
              <% if club.city.present? || club.country.present? %>
                <span class="text-xs text-slate-500"><%= [club.city, club.country].compact_blank.join(", ") %></span>
              <% end %>
            </div>
          </div>
        </div>
    </label>

  <% end %>
  <% if clubs.blank? %>
    <div class="rounded-xl border border-dashed border-slate-300 bg-slate-50 px-4 py-6 text-center text-sm text-slate-500">
      No clubs matched “<%= query.presence || "" %>”. Try another name.
    </div>
  <% end %>
</div>
