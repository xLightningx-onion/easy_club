<%= form_with model: [:admin, @user] do |form| %>
  <% if @user.errors.any? %>
    <div class="mb-4 rounded border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700"><%= @user.errors.full_messages.to_sentence %></div>
  <% end %>

  <div class="grid gap-4 md:grid-cols-2">
    <div>
      <%= form.label :first_name, class: "block text-sm font-medium text-slate-700" %>
      <%= form.text_field :first_name, autocomplete: "given-name", class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :last_name, class: "block text-sm font-medium text-slate-700" %>
      <%= form.text_field :last_name, autocomplete: "family-name", class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div class="md:col-span-2">
      <%= form.label :email, class: "block text-sm font-medium text-slate-700" %>
      <%= form.email_field :email, class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :country_code, class: "block text-sm font-medium text-slate-700" %>
      <%= form.text_field :country_code, autocomplete: "tel-country-code", class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :mobile_number, class: "block text-sm font-medium text-slate-700" %>
      <%= form.telephone_field :mobile_number, autocomplete: "tel-national", class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :password, class: "block text-sm font-medium text-slate-700" %>
      <%= form.password_field :password, autocomplete: "new-password", class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :password_confirmation, class: "block text-sm font-medium text-slate-700" %>
      <%= form.password_field :password_confirmation, class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
    <div>
      <%= form.label :staff, class: "block text-sm font-medium text-slate-700" %>
      <div class="mt-2 flex items-center gap-2 text-sm text-slate-700">
        <%= form.check_box :staff, class: "h-4 w-4 rounded border-slate-300 text-slate-900 focus:ring-slate-500" %>
        <span>Staff admin</span>
      </div>
    </div>
    <div>
      <%= form.label :role, class: "block text-sm font-medium text-slate-700" %>
      <%= form.select :role, User.roles.keys, {}, class: "mt-1 w-full rounded border border-slate-300 px-3 py-2 text-sm focus:border-slate-500 focus:outline-none focus:ring" %>
    </div>
  </div>

  <div class="mt-6 flex items-center gap-3">
    <%= form.submit "Save user", class: "rounded bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800" %>
    
  </div>
<% end %>
<% if @user.persisted? %>
  <%= button_to "Delete user",
              admin_user_path(@user),
              method: :delete,
              data: { turbo_confirm: "Are you sure you want to delete this user?" },
              class: "rounded border border-rose-200 bg-white px-4 py-2 text-sm font-medium text-rose-600 transition hover:border-rose-300 hover:bg-rose-50" %>
<% end %>
