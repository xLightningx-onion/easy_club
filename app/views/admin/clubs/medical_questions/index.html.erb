<section class="space-y-6">
  <header class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl font-semibold text-slate-900">Medical questions</h1>
      <p class="text-sm text-slate-500">Questions appear on the member medical step. Toggle visibility without deleting them.</p>
    </div>
    <%= link_to "Add question", new_admin_club_medical_question_path(@club), class: "inline-flex items-center rounded bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-slate-800" %>
  </header>

  <% if @medical_questions.any? %>
    <div class="space-y-4">
      <% @medical_questions.each do |question| %>
        <article class="flex items-start justify-between gap-4 rounded-xl border border-slate-200 bg-white px-5 py-4 shadow-sm">
          <div class="space-y-1">
            <p class="text-sm font-semibold text-slate-900"><%= question.prompt %></p>
            <p class="text-xs text-slate-500">Type: <%= question.question_type.humanize %> • Position: <%= question.position %> • Required: <%= question.required? ? "Yes" : "No" %></p>
            <% unless question.active? %>
              <span class="inline-flex rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-700">Hidden</span>
            <% end %>
          </div>
          <div class="flex items-center gap-2">
            <%= link_to "Edit", edit_admin_club_medical_question_path(@club, question), class: "rounded px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-100" %>
            <%= link_to(question.active? ? "Deactivate" : "Activate",
                        toggle_admin_club_medical_question_path(@club, question),
                        data: { turbo_method: :patch, turbo_confirm: question.active? ? "Hide this question?" : "Make this question visible?" },
                        class: "rounded px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-100") %>
            <%= link_to "Delete", admin_club_medical_question_path(@club, question),
                        data: { turbo_method: :delete, turbo_confirm: "Delete this question permanently?" },
                        class: "rounded px-3 py-1.5 text-sm font-medium text-rose-600 hover:bg-rose-50" %>
          </div>
        </article>
      <% end %>
    </div>
  <% else %>
    <div class="rounded-xl border border-dashed border-slate-300 bg-slate-50 px-6 py-10 text-center text-sm text-slate-500">
      No medical questions yet. Add your first one above.
    </div>
  <% end %>
</section>
