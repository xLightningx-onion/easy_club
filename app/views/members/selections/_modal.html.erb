<% frame_dom_id = local_assigns.fetch(:frame_id, "members_selection_modal") %>
<%= turbo_frame_tag frame_dom_id do %>
<div
  class="space-y-6"
  data-controller="memberships-selection"
  data-memberships-selection-selected-class-value="border-slate-900 ring-2 ring-slate-200 shadow-md"
  data-memberships-selection-selected-id-value="<%= selected_club_id %>"
>
  <div class="space-y-2 text-center">
    <%# <h2 class="text-xl font-semibold text-slate-900">Select the club</h2> %>
    <p class="text-sm text-slate-500">
      Choose one of your connected clubs to continue. You can always search for a new club if the one you need isn’t listed.
    </p>
  </div>

  <% if clubs.any? %>
    <div class="grid grid-cols-2 gap-4 sm:grid-cols-1" data-memberships-selection-target="list">
      <% clubs.each do |club| %>
        <% if false %>
        <button
          type="button"
          class="group flex flex-col items-center gap-2 rounded-2xl border border-slate-200 bg-white p-4 text-sm font-medium text-slate-700 shadow-sm transition hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-200"
          data-action="click->memberships-selection#choose"
          data-club-id="<%= club.id %>"
          data-club-name="<%= club.name %>"
          data-memberships-selection-target="club">
          <div class="flex h-16 w-16 items-center justify-center overflow-hidden rounded-2xl bg-slate-100">
            <% if club.logo&.attached? %>
              <%= image_tag serve_image_remote_url(club.logo, resize_spec: "resize_to_fill", size_curves: [160, 160]),
                            alt: "#{club.name} logo",
                            class: "h-full w-full object-cover transition group-hover:scale-105" %>
            <% else %>
              <span class="text-base font-semibold uppercase text-slate-500"><%= club.name.first(2) %></span>
            <% end %>
          </div>
          <span class="text-center text-sm font-semibold text-slate-900"><%= club.name %></span>
        </button>
        <% end %>
        <label for="<%= club.id %>" class="block cursor-pointer rounded-xl"
          data-action="click->memberships-selection#choose"
          data-club-id="<%= club.id %>"
          data-club-name="<%= club.name %>"
          data-memberships-selection-target="club">
          <div class="grid grid-cols-10 py-6 px-4 rounded-3xl">
            <input
            type="radio"
            name="hs-default-radio"
            id="<%= club.id %>"
            class="peer col-span-1 shrink-0 mt-2 border-green-border
            rounded-2lg text-green-border focus:ring-transparent checked:border-green-border disabled:opacity-50 
            disabled:pointer-events-none w-5 h-5 bg-size-[1.5em]"/>
            <div class="col-span-8 flex flex-row items-center">
              <div class="flex h-16 w-16 items-center justify-center overflow-hidden rounded-2xl bg-slate-100">
                <% if club.logo&.attached? %>
                  <%= image_tag serve_image_remote_url(club.logo, resize_spec: "resize_to_fill", size_curves: [160, 160]),
                                alt: "#{club.name} logo",
                                class: "h-full w-full object-cover transition group-hover:scale-105" %>
                <% else %>
                  <span class="text-base font-semibold uppercase text-slate-500"><%= club.name.first(2) %></span>
                <% end %>
              </div>
              <span class="text-center text-sm font-semibold text-slate-900 ms-3"><%= club.name %></span>
            </div>
          </div>
        </label>

      <% end %>
    </div>
  <% else %>
    <div class="rounded-2xl border border-dashed border-slate-300 bg-slate-50 px-4 py-8 text-center text-sm text-slate-500">
      We didn’t find any connected clubs yet. Try searching for a new club below.
    </div>
  <% end %>

  <div class="flex flex-col items-center gap-3">
    <%= link_to "Find a new club",
      search_members_selection_path(frame_id: frame_dom_id),
      data: { turbo_frame: frame_dom_id },
      class: "inline-flex items-center justify-center rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900" %>
    <button
      type="button"
      class="inline-flex w-full items-center justify-center rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white shadow transition hover:bg-slate-800 disabled:cursor-not-allowed disabled:bg-slate-300"
      data-memberships-selection-target="continue"
      data-action="memberships-selection#continue modal#close"
      disabled
    >
      Continue
    </button>
  </div>
</div>
<% end %>
