<%# Tailwind-friendly, responsive progress bar that adapts to any number of steps %>
<% labels = [
  "Personal Details",
  "Medical Info",
  "Club Questions",
  "Waivers & Conditions",
  "Payment Method",
  "Payment"
] %>

<div class="absolute mx-auto w-11/12 md:w-4/5 lg:w-3/5 xl:w-1/3 flex items-start justify-between px-6 sm:px-8 lg:px-6 lg:h-[7vh] xl:h-[10vh]">
  <% labels.each_with_index do |label, i| %>
    <% active = (i + 1) <= (step_count || 1) %>
    <div class="flex flex-col items-center flex-1 h-full justify-between">
      <p class="hidden lg:block w-3/4 text-sm text-center text-subtext-gray text-[12px]"><%= label %></p>
      <div class="<%= active ? 'step_active' : 'step_inactive' %> h-9 w-9 sm:h-10 sm:w-10 lg:h-12 lg:w-12 flex items-center justify-center">
        <p class="text-base sm:text-lg lg:text-xl <%= active ? 'text-white' : 'text-subtext-gray' %>"><%= i + 1 %></p>
      </div>
    </div>
  <% end %>
</div>